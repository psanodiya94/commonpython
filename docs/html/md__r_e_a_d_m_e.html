<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CommonPython: CommonPython Framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CommonPython<span id="projectnumber">&#160;v1.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__r_e_a_d_m_e.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CommonPython Framework </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md307"></a></p>
<p>A comprehensive Python framework providing configuration management, logging, database connectivity, message queue operations, and command-line interface functionality. Features a <b>flexible adapter architecture</b> that supports both CLI-based and library-based implementations.</p>
<p><a href="https://www.python.org/downloads/"><img src="https://img.shields.io/badge/python-3.12%2B-blue.svg" alt="Python Version" style="pointer-events: none;" class="inline"/></a> <a href="test/"><img src="https://img.shields.io/badge/tests-295%20passed-brightgreen.svg" alt="Tests" style="pointer-events: none;" class="inline"/></a> <a href="test/"><img src="https://img.shields.io/badge/coverage-89%25-green.svg" alt="Coverage" style="pointer-events: none;" class="inline"/></a> <a class="el" href="md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e.html"><img src="https://img.shields.io/badge/architecture-adapter%20pattern-blue.svg" alt="Architecture" style="pointer-events: none;" class="inline"/></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md308"></a>
🚀 Quick Start</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md309"></a>
1. Installation</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md310"></a>
Option A: Minimal Install (Mandatory Only)</h3>
<div class="fragment"><div class="line"># Clone the repository</div>
<div class="line">git clone &lt;repository-url&gt;</div>
<div class="line">cd commonpython</div>
<div class="line"> </div>
<div class="line"># Install core framework only</div>
<div class="line">pip install -e .</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md311"></a>
Option B: High Performance (Recommended)</h3>
<div class="fragment"><div class="line"># Install with library adapters for 10-50x better performance</div>
<div class="line">pip install -e &quot;.[library]&quot;</div>
</div><!-- fragment --><h3 class="doxsection"><a class="anchor" id="autotoc_md312"></a>
Option C: Full Development Setup</h3>
<div class="fragment"><div class="line"># Install everything (libraries + testing tools)</div>
<div class="line">pip install -e &quot;.[all]&quot;</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>📖 <b><a class="el" href="md__i_n_s_t_a_l_l_a_t_i_o_n.html">Complete Installation Guide</a></b> - Detailed instructions for all scenarios </p>
</blockquote>
<h2 class="doxsection"><a class="anchor" id="autotoc_md313"></a>
2. Create Your First Component</h2>
<div class="fragment"><div class="line"># Copy the template</div>
<div class="line">cp examples/component_template.py my_component.py</div>
<div class="line"> </div>
<div class="line"># Edit the template with your logic</div>
<div class="line"># Run your component</div>
<div class="line">python my_component.py --config config/config.yaml --verbose</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md314"></a>
3. Test the Framework</h2>
<div class="fragment"><div class="line"># Run all tests</div>
<div class="line">python scripts/test_commonpython.py</div>
<div class="line"> </div>
<div class="line"># Or run the quick start script for guided setup</div>
<div class="line">python examples/quick_start.py</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md315"></a>
✨ Features</h1>
<ul>
<li><b>🔧 Configuration Management</b>: YAML-based configuration with environment variable support</li>
<li><b>📝 Logging</b>: Human-readable and JSON logging with colored console output</li>
<li><b>🗄️ Database Operations</b>: IBM DB2 connectivity with <b>both CLI and library implementations</b></li>
<li><b>📨 Message Queue</b>: IBM MQ operations with <b>both CLI and library implementations</b></li>
<li><b>🔄 Adapter Pattern</b>: Seamlessly switch between CLI and library implementations via configuration</li>
<li><b>💻 Command Line Interface</b>: Full-featured CLI for all operations</li>
<li><b>🧩 Component Framework</b>: Common framework for building components with shared functionality</li>
<li><b>🧪 Testing</b>: Comprehensive test suite with 295+ tests and coverage reporting</li>
<li><b>📚 Documentation</b>: Complete Doxygen-style documentation and architecture guides</li>
<li><b>🚀 Zero Migration Cost</b>: Switch implementations without changing application code</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md316"></a>
📋 Requirements</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md317"></a>
✅ Mandatory (Always Required)</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Requirement  </th><th class="markdownTableHeadNone">Version  </th><th class="markdownTableHeadNone">Purpose  </th><th class="markdownTableHeadNone">Install  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Python</b>  </td><td class="markdownTableBodyNone">3.12+  </td><td class="markdownTableBodyNone">Core runtime  </td><td class="markdownTableBodyNone"><a href="https://www.python.org/downloads/">Download</a>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>PyYAML</b>  </td><td class="markdownTableBodyNone">Latest  </td><td class="markdownTableBodyNone">Configuration parsing  </td><td class="markdownTableBodyNone"><span class="tt">pip install pyyaml</span>  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md318"></a>
⚙️ Optional - For CLI Implementation (Default)</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Requirement  </th><th class="markdownTableHeadNone">Purpose  </th><th class="markdownTableHeadNone">Status  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>IBM DB2 CLI tools</b>  </td><td class="markdownTableBodyNone">Database operations via CLI  </td><td class="markdownTableBodyNone">Optional - Only if using database  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>IBM MQ CLI tools</b>  </td><td class="markdownTableBodyNone">Messaging operations via CLI  </td><td class="markdownTableBodyNone">Optional - Only if using messaging  </td></tr>
</table>
<blockquote class="doxtable">
<p>💡 <b>Note</b>: CLI implementation works without Python libraries but requires IBM CLI tools installed and in PATH. </p>
</blockquote>
<h2 class="doxsection"><a class="anchor" id="autotoc_md319"></a>
🚀 Optional - For Library Implementation (Better Performance)</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Package  </th><th class="markdownTableHeadNone">Purpose  </th><th class="markdownTableHeadNone">Performance Gain  </th><th class="markdownTableHeadNone">Install  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>ibm_db</b>  </td><td class="markdownTableBodyNone">Native DB2 operations  </td><td class="markdownTableBodyNone">10-50x faster  </td><td class="markdownTableBodyNone"><span class="tt">pip install ibm_db</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>pymqi</b>  </td><td class="markdownTableBodyNone">Native MQ operations  </td><td class="markdownTableBodyNone">10-50x faster  </td><td class="markdownTableBodyNone"><span class="tt">pip install pymqi</span>  </td></tr>
</table>
<p>Install all library dependencies: </p><div class="fragment"><div class="line">pip install ibm_db pymqi</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>💡 <b>Note</b>: Library implementations are <b>optional</b>. The framework automatically falls back to CLI if libraries aren't installed. </p>
</blockquote>
<h2 class="doxsection"><a class="anchor" id="autotoc_md320"></a>
🧪 Optional - For Development &amp; Testing</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Package  </th><th class="markdownTableHeadNone">Version  </th><th class="markdownTableHeadNone">Purpose  </th><th class="markdownTableHeadNone">Install  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>coverage</b>  </td><td class="markdownTableBodyNone">7.0.0+  </td><td class="markdownTableBodyNone">Code coverage analysis  </td><td class="markdownTableBodyNone"><span class="tt">pip install coverage</span>  </td></tr>
</table>
<hr  />
<p><b>Compatibility Notes:</b></p><ul>
<li>✅ Framework tested with Python 3.12.3</li>
<li>⚠️ May work with Python 3.8+ (untested)</li>
<li>🔄 Auto-fallback: Library → CLI if dependencies missing</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md322"></a>
🏗️ Architecture: Adapter Pattern</h1>
<p><b>NEW!</b> The framework now features a flexible adapter architecture that allows you to switch between CLI-based and library-based implementations <b>without changing your code</b>.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md323"></a>
Why Use the Adapter Pattern?</h2>
<p>✅ <b>Zero Code Changes</b>: Switch implementations via configuration ✅ <b>Better Performance</b>: Library adapters are 10-50x faster ✅ <b>Improved Security</b>: Native parameterized queries prevent SQL injection ✅ <b>Gradual Migration</b>: Migrate database and messaging independently ✅ <b>Auto-Fallback</b>: Automatically use CLI if libraries aren't installed</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md324"></a>
Quick Example</h2>
<div class="fragment"><div class="line"># config.yaml - Switch from CLI to library implementation</div>
<div class="line">database:</div>
<div class="line">  implementation: library  # Was: cli</div>
<div class="line">  auto_fallback: true     # Fallback to CLI if library not available</div>
<div class="line">  host: localhost</div>
<div class="line">  # ... rest of config unchanged</div>
</div><!-- fragment --><p><b>That's it!</b> No application code changes needed.</p>
<p>📚 <b><a class="el" href="md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e.html">Read the complete Adapter Architecture Guide</a></b> for migration steps, performance comparisons, and best practices.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md325"></a>
🎯 For New Users</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md326"></a>
What is CommonPython Framework?</h2>
<p>CommonPython is a framework that provides common functionality for building Python applications that need to interact with IBM DB2 databases and IBM MQ messaging systems. It's designed to:</p>
<ul>
<li><b>Simplify Development</b>: Provides ready-to-use components for common tasks</li>
<li><b>Standardize Operations</b>: Ensures consistent configuration, logging, and error handling</li>
<li><b>Reduce Boilerplate</b>: Eliminates repetitive code for database and messaging operations</li>
<li><b>Enable Testing</b>: Built-in testing support with mocked services</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md327"></a>
When to Use This Framework</h2>
<p>Use CommonPython when you need to build applications that:</p>
<ul>
<li>Connect to IBM DB2 databases</li>
<li>Send/receive messages via IBM MQ</li>
<li>Require structured logging and configuration management</li>
<li>Need consistent error handling and resource management</li>
<li>Want to follow enterprise development patterns</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md328"></a>
Getting Started as a New User</h2>
<ol type="1">
<li><b>📖 Read the Documentation</b>: Start with this README and the <a class="el" href="md_docs_2_d_e_v_e_l_o_p_m_e_n_t___g_u_i_d_e.html">Development Guide</a></li>
<li><b>🔧 Set Up Your Environment</b>: Install Python 3.8+ and IBM CLI tools</li>
<li><b>📝 Use the Template</b>: Copy <span class="tt"><a class="el" href="component__template_8py.html">examples/component_template.py</a></span> to start your first component</li>
<li><b>⚙️ Configure</b>: Copy <span class="tt">config/config.yaml</span> and modify it for your environment</li>
<li><b>🧪 Test</b>: Run the test suite to verify everything works</li>
<li><b>🚀 Build</b>: Create your component using the framework's services</li>
</ol>
<p><b>💡 Pro Tip</b>: Run <span class="tt">python <a class="el" href="quick__start_8py.html">examples/quick_start.py</a></span> for an interactive guided setup!</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md329"></a>
Example: Your First Component</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="namespacecommonpython_1_1framework.html">commonpython.framework</a> <span class="keyword">import</span> ComponentBase, run_component</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MyFirstComponent(ComponentBase):</div>
<div class="line">    <span class="keyword">def </span>__init__(self, config_file=None):</div>
<div class="line">        super().__init__(<span class="stringliteral">&quot;MyFirstComponent&quot;</span>, config_file)</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">def </span>initialize(self) -&gt; bool:</div>
<div class="line">        self.log_info(<span class="stringliteral">&quot;My first component is initializing!&quot;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">def </span>run(self) -&gt; bool:</div>
<div class="line">        self.log_info(<span class="stringliteral">&quot;My first component is running!&quot;</span>)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># Connect to database</span></div>
<div class="line">        <span class="keywordflow">if</span> self.connect_database():</div>
<div class="line">            results = self.execute_query(<span class="stringliteral">&quot;SELECT COUNT(*) FROM users&quot;</span>)</div>
<div class="line">            self.log_info(f<span class="stringliteral">&quot;Found {results[0][0]} users in database&quot;</span>)</div>
<div class="line">        </div>
<div class="line">        <span class="comment"># Send a message</span></div>
<div class="line">        <span class="keywordflow">if</span> self.connect_messaging():</div>
<div class="line">            self.send_message(<span class="stringliteral">&quot;MY.QUEUE&quot;</span>, {<span class="stringliteral">&quot;message&quot;</span>: <span class="stringliteral">&quot;Hello from my component!&quot;</span>})</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">def </span>cleanup(self) -&gt; None:</div>
<div class="line">        self.log_info(<span class="stringliteral">&quot;My first component is cleaning up!&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> __name__ == <span class="stringliteral">&#39;__main__&#39;</span>:</div>
<div class="line">    sys.exit(0 <span class="keywordflow">if</span> run_component(MyFirstComponent, <span class="stringliteral">&quot;MyFirstComponent&quot;</span>) <span class="keywordflow">else</span> 1)</div>
<div class="ttc" id="anamespacecommonpython_1_1framework_html"><div class="ttname"><a href="namespacecommonpython_1_1framework.html">commonpython.framework</a></div><div class="ttdef"><b>Definition</b> <a href="commonpython_2framework_2____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
</div><!-- fragment --><p>Run it:</p>
<div class="fragment"><div class="line">python my_first_component.py --config config/config.yaml --verbose</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md330"></a>
Installation</h1>
<div class="fragment"><div class="line"># Clone the repository</div>
<div class="line">git clone &lt;repository-url&gt;</div>
<div class="line">cd commonpython</div>
<div class="line"> </div>
<div class="line"># Install in development mode</div>
<div class="line">pip install -e .</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md331"></a>
Dependencies</h2>
<p>The framework uses only standard Python modules with the following optional dependencies:</p>
<ul>
<li><span class="tt">coverage&gt;=7.0.0</span> (for testing only)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md332"></a>
Configuration</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md333"></a>
Configuration File</h2>
<p>The project includes an example configuration file <span class="tt">config/config.yaml</span>:</p>
<div class="fragment"><div class="line">database:</div>
<div class="line">  host: localhost</div>
<div class="line">  port: 50000</div>
<div class="line">  name: testdb</div>
<div class="line">  user: db2inst1</div>
<div class="line">  password: password</div>
<div class="line">  schema: myschema</div>
<div class="line">  timeout: 30</div>
<div class="line"> </div>
<div class="line">messaging:</div>
<div class="line">  host: localhost</div>
<div class="line">  port: 1414</div>
<div class="line">  queue_manager: QM1</div>
<div class="line">  channel: SYSTEM.DEF.SVRCONN</div>
<div class="line">  user: mquser</div>
<div class="line">  password: mqpass</div>
<div class="line">  timeout: 30</div>
<div class="line"> </div>
<div class="line">logging:</div>
<div class="line">  level: INFO</div>
<div class="line">  file: app.log</div>
<div class="line">  format: &quot;%(asctime)s - %(name)s - %(levelname)s - %(message)s&quot;</div>
<div class="line">  max_size: 10485760</div>
<div class="line">  backup_count: 5</div>
<div class="line">  colored: true</div>
<div class="line">  json_format: false  # Set to true for JSON format</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md334"></a>
Environment Variables</h2>
<p>You can override configuration using environment variables:</p>
<div class="fragment"><div class="line">export DB2_HOST=localhost</div>
<div class="line">export DB2_PORT=50000</div>
<div class="line">export DB2_DATABASE=testdb</div>
<div class="line">export DB2_USER=db2inst1</div>
<div class="line">export DB2_PASSWORD=password</div>
<div class="line"> </div>
<div class="line">export MQ_HOST=localhost</div>
<div class="line">export MQ_PORT=1414</div>
<div class="line">export MQ_QUEUE_MANAGER=QM1</div>
<div class="line">export MQ_CHANNEL=SYSTEM.DEF.SVRCONN</div>
<div class="line"> </div>
<div class="line">export LOG_LEVEL=DEBUG</div>
<div class="line">export LOG_FILE=app.log</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md335"></a>
Usage</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md336"></a>
Command Line Interface</h2>
<p>The framework provides a comprehensive CLI for all operations:</p>
<div class="fragment"><div class="line"># Test database connection</div>
<div class="line">commonpython database test</div>
<div class="line"> </div>
<div class="line"># Execute database query</div>
<div class="line">commonpython database execute &quot;SELECT * FROM users&quot;</div>
<div class="line"> </div>
<div class="line"># Test MQ connection</div>
<div class="line">commonpython messaging test</div>
<div class="line"> </div>
<div class="line"># Get message from queue</div>
<div class="line">commonpython messaging get TEST.QUEUE</div>
<div class="line"> </div>
<div class="line"># Put message to queue</div>
<div class="line">commonpython messaging put TEST.QUEUE &quot;Hello World&quot;</div>
<div class="line"> </div>
<div class="line"># Show configuration</div>
<div class="line">commonpython config show</div>
<div class="line"> </div>
<div class="line"># Test all components</div>
<div class="line">commonpython test-all</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md337"></a>
Programmatic Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="namespacecommonpython_1_1config.html">commonpython.config</a> <span class="keyword">import</span> ConfigManager</div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="namespacecommonpython_1_1logging.html">commonpython.logging</a> <span class="keyword">import</span> LoggerManager</div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="namespacecommonpython_1_1database.html">commonpython.database</a> <span class="keyword">import</span> DB2Manager</div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="namespacecommonpython_1_1messaging.html">commonpython.messaging</a> <span class="keyword">import</span> MQManager</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Initialize configuration</span></div>
<div class="line">config_manager = ConfigManager(<span class="stringliteral">&#39;config.yaml&#39;</span>)</div>
<div class="line">logger_manager = LoggerManager(<span class="stringliteral">&#39;myapp&#39;</span>, config_manager.get_logging_config())</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Database operations</span></div>
<div class="line">db_config = config_manager.get_database_config()</div>
<div class="line">db_manager = DB2Manager(db_config, logger_manager)</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> db_manager.connect():</div>
<div class="line">    results = db_manager.execute_query(<span class="stringliteral">&quot;SELECT * FROM users&quot;</span>)</div>
<div class="line">    print(f<span class="stringliteral">&quot;Found {len(results)} users&quot;</span>)</div>
<div class="line">    db_manager.disconnect()</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Message queue operations</span></div>
<div class="line">mq_config = config_manager.get_messaging_config()</div>
<div class="line">mq_manager = MQManager(mq_config, logger_manager)</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> mq_manager.connect():</div>
<div class="line">    mq_manager.put_message(<span class="stringliteral">&quot;TEST.QUEUE&quot;</span>, {<span class="stringliteral">&quot;message&quot;</span>: <span class="stringliteral">&quot;Hello World&quot;</span>})</div>
<div class="line">    message = mq_manager.get_message(<span class="stringliteral">&quot;TEST.QUEUE&quot;</span>)</div>
<div class="line">    <span class="keywordflow">if</span> message:</div>
<div class="line">        print(f<span class="stringliteral">&quot;Received: {message[&#39;data&#39;]}&quot;</span>)</div>
<div class="line">    mq_manager.disconnect()</div>
<div class="ttc" id="anamespacecommonpython_1_1config_html"><div class="ttname"><a href="namespacecommonpython_1_1config.html">commonpython.config</a></div><div class="ttdef"><b>Definition</b> <a href="commonpython_2config_2____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
<div class="ttc" id="anamespacecommonpython_1_1database_html"><div class="ttname"><a href="namespacecommonpython_1_1database.html">commonpython.database</a></div><div class="ttdef"><b>Definition</b> <a href="commonpython_2database_2____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
<div class="ttc" id="anamespacecommonpython_1_1logging_html"><div class="ttname"><a href="namespacecommonpython_1_1logging.html">commonpython.logging</a></div><div class="ttdef"><b>Definition</b> <a href="commonpython_2logging_2____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
<div class="ttc" id="anamespacecommonpython_1_1messaging_html"><div class="ttname"><a href="namespacecommonpython_1_1messaging.html">commonpython.messaging</a></div><div class="ttdef"><b>Definition</b> <a href="commonpython_2messaging_2____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md338"></a>
Component Framework Usage</h2>
<p>Create components that use the framework's shared functionality:</p>
<div class="fragment"><div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="namespacecommonpython_1_1framework.html">commonpython.framework</a> <span class="keyword">import</span> ComponentBase, run_component</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>MyComponent(ComponentBase):</div>
<div class="line">    <span class="keyword">def </span>__init__(self, config_file=None):</div>
<div class="line">        super().__init__(<span class="stringliteral">&quot;MyComponent&quot;</span>, config_file)</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">def </span>initialize(self) -&gt; bool:</div>
<div class="line">        <span class="comment"># Your initialization logic</span></div>
<div class="line">        self.log_info(<span class="stringliteral">&quot;Component initialized&quot;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">def </span>run(self) -&gt; bool:</div>
<div class="line">        <span class="comment"># Your main logic</span></div>
<div class="line">        <span class="keywordflow">if</span> self.connect_database():</div>
<div class="line">            results = self.execute_query(<span class="stringliteral">&quot;SELECT * FROM my_table&quot;</span>)</div>
<div class="line">            self.log_info(f<span class="stringliteral">&quot;Found {len(results)} records&quot;</span>)</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> self.connect_messaging():</div>
<div class="line">            self.send_message(<span class="stringliteral">&quot;MY.QUEUE&quot;</span>, {<span class="stringliteral">&quot;data&quot;</span>: <span class="stringliteral">&quot;message&quot;</span>})</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">def </span>cleanup(self) -&gt; None:</div>
<div class="line">        <span class="comment"># Your cleanup logic</span></div>
<div class="line">        self.log_info(<span class="stringliteral">&quot;Component cleanup completed&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Run the component</span></div>
<div class="line"><span class="keywordflow">if</span> __name__ == <span class="stringliteral">&#39;__main__&#39;</span>:</div>
<div class="line">    sys.exit(0 <span class="keywordflow">if</span> run_component(MyComponent, <span class="stringliteral">&quot;MyComponent&quot;</span>) <span class="keywordflow">else</span> 1)</div>
</div><!-- fragment --><p><b>Run your component:</b></p>
<div class="fragment"><div class="line">python my_component.py --config config/component_config.yaml --verbose</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md339"></a>
Testing</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md340"></a>
Run Basic Tests</h2>
<div class="fragment"><div class="line"># Run basic test suite</div>
<div class="line">python test_framework_basic.py</div>
<div class="line"> </div>
<div class="line"># Or use the test runner</div>
<div class="line">python test/run_tests.py</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md341"></a>
Run Comprehensive Tests</h2>
<div class="fragment"><div class="line"># Run comprehensive test suite</div>
<div class="line">python test_framework.py</div>
<div class="line"> </div>
<div class="line"># Run with coverage</div>
<div class="line">python test_framework.py --coverage</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md342"></a>
Individual Test Modules</h2>
<div class="fragment"><div class="line"># Run specific test modules</div>
<div class="line">python -m unittest test.test_config_manager</div>
<div class="line">python -m unittest test.test_logger_manager</div>
<div class="line">python -m unittest test.test_db2_manager</div>
<div class="line">python -m unittest test.test_mq_manager</div>
<div class="line">python -m unittest test.test_cli</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md343"></a>
Architecture</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md344"></a>
Module Structure</h2>
<div class="fragment"><div class="line">commonpython/</div>
<div class="line">├── commonpython/</div>
<div class="line">│   ├── __init__.py              # Main package</div>
<div class="line">│   ├── config/</div>
<div class="line">│   │   ├── __init__.py          # Config module</div>
<div class="line">│   │   └── config_manager.py   # Configuration management</div>
<div class="line">│   ├── logging/</div>
<div class="line">│   │   ├── __init__.py          # Logging module</div>
<div class="line">│   │   └── logger_manager.py   # Logging functionality</div>
<div class="line">│   ├── database/</div>
<div class="line">│   │   ├── __init__.py          # Database module</div>
<div class="line">│   │   └── db2_manager.py       # DB2 operations via CLI</div>
<div class="line">│   ├── messaging/</div>
<div class="line">│   │   ├── __init__.py          # Messaging module</div>
<div class="line">│   │   └── mq_manager.py        # MQ operations via CLI</div>
<div class="line">│   └── cli/</div>
<div class="line">│       ├── __init__.py          # CLI module</div>
<div class="line">│       └── cli.py               # Command-line interface</div>
<div class="line">├── test/</div>
<div class="line">│   ├── __init__.py              # Test package</div>
<div class="line">│   ├── test_config_manager.py   # Configuration tests</div>
<div class="line">│   ├── test_logger_manager.py   # Logging tests</div>
<div class="line">│   ├── test_db2_manager.py      # Database tests</div>
<div class="line">│   ├── test_mq_manager.py       # Messaging tests</div>
<div class="line">│   ├── test_cli.py             # CLI tests</div>
<div class="line">│   └── run_tests.py            # Test runner</div>
<div class="line">├── config.yaml                 # Example configuration</div>
<div class="line">├── requirements.txt            # Dependencies</div>
<div class="line">├── setup.py                    # Setup script</div>
<div class="line">├── test_framework.py          # Test framework</div>
<div class="line">└── README.md                   # Documentation</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md345"></a>
Key Design Principles</h2>
<ol type="1">
<li><b>Standard Library Only</b>: Uses only Python standard library modules</li>
<li><b>CLI Interface</b>: Uses IBM CLI tools instead of SDK modules</li>
<li><b>Comprehensive Testing</b>: Full test coverage with detailed reporting</li>
<li><b>Documentation</b>: Complete Doxygen-style documentation</li>
<li><b>Configuration</b>: Flexible configuration management</li>
<li><b>Logging</b>: Structured logging with multiple output formats</li>
</ol>
<h1 class="doxsection"><a class="anchor" id="autotoc_md346"></a>
IBM CLI Requirements</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md347"></a>
DB2 CLI Tools</h2>
<p>The framework requires IBM DB2 CLI tools to be installed and available in the system PATH:</p>
<ul>
<li><span class="tt">db2</span> command-line tool</li>
<li>DB2 client libraries</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md348"></a>
MQ CLI Tools</h2>
<p>The framework requires IBM MQ CLI tools to be installed and available in the system PATH:</p>
<ul>
<li><span class="tt">runmqsc</span> command-line tool</li>
<li><span class="tt">amqsput</span> and <span class="tt">amqsget</span> utilities</li>
<li>MQ client libraries</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md349"></a>
Development</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md350"></a>
Adding New Features</h2>
<ol type="1">
<li>Create new modules in appropriate directories</li>
<li>Add comprehensive test cases</li>
<li>Update CLI interface if needed</li>
<li>Update documentation</li>
<li>Ensure all tests pass</li>
</ol>
<h2 class="doxsection"><a class="anchor" id="autotoc_md351"></a>
Code Style</h2>
<ul>
<li>Follow PEP 8 guidelines</li>
<li>Use Doxygen-style documentation</li>
<li>Write comprehensive test cases</li>
<li>Maintain backward compatibility</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md352"></a>
License</h1>
<p>MIT License - see LICENSE file for details.</p>
<hr  />
<blockquote class="doxtable">
<p><b>Note:</b> This tool was developed with help from Cursor AI. </p>
</blockquote>
<h1 class="doxsection"><a class="anchor" id="autotoc_md354"></a>
Contributing</h1>
<ol type="1">
<li>Fork the repository</li>
<li>Create a feature branch</li>
<li>Make your changes</li>
<li>Add tests for new functionality</li>
<li>Ensure all tests pass</li>
<li>Submit a pull request</li>
</ol>
<h1 class="doxsection"><a class="anchor" id="autotoc_md355"></a>
🔧 Troubleshooting</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md356"></a>
Common Issues</h2>
<h3 class="doxsection"><a class="anchor" id="autotoc_md357"></a>
Configuration File Not Found</h3>
<p><b>Error</b>: &lsquo;Configuration file 'config.yaml&rsquo; not found` <b>Solution</b>:</p>
<ul>
<li>Copy <span class="tt">config.yaml</span> to your project directory</li>
<li>Use absolute paths: <span class="tt">--config /path/to/config.yaml</span></li>
<li>Check file permissions</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md358"></a>
Database Connection Failed</h3>
<p><b>Error</b>: &lsquo;DB2 command error: [Errno 2] No such file or directory: 'db2&rsquo;` <b>Solution</b>:</p>
<ul>
<li>Install IBM DB2 CLI tools</li>
<li>Add DB2 tools to system PATH: <span class="tt">export PATH=$PATH:/opt/ibm/db2/V11.5/bin</span></li>
<li>Verify installation: <span class="tt">db2 -v</span></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md359"></a>
Messaging Connection Failed</h3>
<p><b>Error</b>: &lsquo;MQ command error: [Errno 2] No such file or directory: 'runmqsc&rsquo;` <b>Solution</b>:</p>
<ul>
<li>Install IBM MQ CLI tools</li>
<li>Add MQ tools to system PATH: <span class="tt">export PATH=$PATH:/opt/mqm/bin</span></li>
<li>Verify installation: <span class="tt">runmqsc -v</span></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md360"></a>
Permission Denied</h3>
<p><b>Error</b>: <span class="tt">Permission denied</span> when accessing log files <b>Solution</b>:</p>
<ul>
<li>Check file permissions: <span class="tt">chmod 755 log/</span></li>
<li>Ensure log directory exists: <span class="tt">mkdir -p log</span></li>
<li>Run with appropriate permissions</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md361"></a>
Debug Mode</h2>
<p>Enable debug logging for troubleshooting:</p>
<div class="fragment"><div class="line"># Using environment variable</div>
<div class="line">export LOG_LEVEL=DEBUG</div>
<div class="line">python my_component.py</div>
<div class="line"> </div>
<div class="line"># Using configuration file</div>
<div class="line">logging:</div>
<div class="line">  level: DEBUG</div>
<div class="line">  console: true</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md362"></a>
Getting Help</h2>
<ol type="1">
<li><b>📚 Check Documentation</b>: Read this README and <a class="el" href="md_docs_2_d_e_v_e_l_o_p_m_e_n_t___g_u_i_d_e.html">Development Guide</a></li>
<li><b>🧪 Run Tests</b>: Verify framework functionality with <span class="tt">python <a class="el" href="test__commonpython_8py.html">scripts/test_commonpython.py</a></span></li>
<li><b>📝 Check Logs</b>: Look for detailed error information in log files</li>
<li><b>🔍 Review Examples</b>: Study the examples in the <span class="tt">examples/</span> directory</li>
<li><b>🐛 Report Issues</b>: Create an issue with detailed information and logs</li>
</ol>
<h1 class="doxsection"><a class="anchor" id="autotoc_md363"></a>
📚 Additional Resources</h1>
<ul>
<li><b><a class="el" href="md_docs_2_d_e_v_e_l_o_p_m_e_n_t___g_u_i_d_e.html">Development Guide</a></b>: Comprehensive guide for developers</li>
<li><b><a href="examples/">Examples</a></b>: Working examples of components</li>
<li><b><a href="examples/">Templates</a></b>: Component templates for quick start</li>
<li><b><a href="scripts/test_commonpython.py">Test Suite</a></b>: Comprehensive test framework</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md364"></a>
Support</h1>
<p>For issues and questions:</p>
<ol type="1">
<li>Check the documentation and troubleshooting section above</li>
<li>Run the test suite to verify framework functionality</li>
<li>Review the examples and templates</li>
<li>Create an issue with detailed information and error logs </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
