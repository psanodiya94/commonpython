\chapter{Adapter Architecture Guide }
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e}{}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e}\index{Adapter Architecture Guide@{Adapter Architecture Guide}}
\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md71}%
\Hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md71}%
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md72}{}\doxysection{\texorpdfstring{Overview}{Overview}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md72}
The Common\+Python framework uses an {\bfseries{Adapter Pattern}} architecture that allows seamless switching between CLI-\/based and library-\/based implementations for database and messaging operations. This design provides maximum flexibility while maintaining backward compatibility.\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md73}{}\doxysection{\texorpdfstring{Architecture Components}{Architecture Components}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md73}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md74}{}\doxysubsection{\texorpdfstring{1. Interfaces (Abstract Base Classes)}{1. Interfaces (Abstract Base Classes)}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md74}
Located in {\ttfamily commonpython/interfaces/}, these define the contracts that all implementations must follow\+:


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily IDatabase\+Manager}}}\+: Abstract interface for database operations
\item {\bfseries{{\ttfamily IMessaging\+Manager}}}\+: Abstract interface for messaging operations
\end{DoxyItemize}

All database and messaging adapters implement these interfaces, ensuring consistent behavior regardless of the underlying implementation.\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md75}{}\doxysubsection{\texorpdfstring{2. Adapters}{2. Adapters}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md75}
Located in {\ttfamily commonpython/adapters/}, these wrap concrete implementations\+:\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md76}{}\doxysubsubsection{\texorpdfstring{CLI Adapters (Always Available)}{CLI Adapters (Always Available)}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md76}

\begin{DoxyItemize}
\item {\bfseries{{\ttfamily DB2\+CLIAdapter}}}\+: Wraps the existing CLI-\/based {\ttfamily DB2\+Manager}
\item {\bfseries{{\ttfamily MQCLIAdapter}}}\+: Wraps the existing CLI-\/based {\ttfamily MQManager}
\end{DoxyItemize}\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md77}{}\doxysubsubsection{\texorpdfstring{Library Adapters (Optional -\/ require additional dependencies)}{Library Adapters (Optional -\/ require additional dependencies)}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md77}

\begin{DoxyItemize}
\item {\bfseries{{\ttfamily DB2\+Library\+Adapter}}}\+: Uses {\ttfamily ibm\+\_\+db} Python library for direct DB2 access
\item {\bfseries{{\ttfamily MQLibrary\+Adapter}}}\+: Uses {\ttfamily pymqi} Python library for direct MQ access
\end{DoxyItemize}\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md78}{}\doxysubsection{\texorpdfstring{3. Factory Pattern}{3. Factory Pattern}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md78}
Located in {\ttfamily \doxylink{manager__factory_8py}{commonpython/factories/manager\+\_\+factory.\+py}}\+:


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily Manager\+Factory}}}\+: Creates manager instances based on configuration
\item Automatically detects available implementations
\item Supports auto-\/fallback when library dependencies aren\textquotesingle{}t installed
\item Caches adapter availability for performance
\end{DoxyItemize}\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md79}{}\doxysection{\texorpdfstring{Benefits of This Architecture}{Benefits of This Architecture}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md79}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md80}{}\doxysubsection{\texorpdfstring{1. {\bfseries{Zero Code Changes for Migration}}}{1. {\bfseries{Zero Code Changes for Migration}}}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md80}
Switch from CLI to library implementation by changing a single configuration value\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Before\ (CLI):}
\DoxyCodeLine{database:}
\DoxyCodeLine{\ \ implementation:\ cli}
\DoxyCodeLine{\ \ host:\ localhost}
\DoxyCodeLine{\ \ \#\ ...\ other\ settings}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ After\ (Library):}
\DoxyCodeLine{database:}
\DoxyCodeLine{\ \ implementation:\ library}
\DoxyCodeLine{\ \ host:\ localhost}
\DoxyCodeLine{\ \ \#\ ...\ other\ settings}

\end{DoxyCode}


{\bfseries{No changes needed}} in your application code!\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md81}{}\doxysubsection{\texorpdfstring{2. {\bfseries{Gradual Migration}}}{2. {\bfseries{Gradual Migration}}}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md81}
Migrate one service at a time\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{database:}
\DoxyCodeLine{\ \ implementation:\ library\ \ \#\ Use\ library\ for\ database}
\DoxyCodeLine{}
\DoxyCodeLine{messaging:}
\DoxyCodeLine{\ \ implementation:\ cli\ \ \ \ \ \ \#\ Keep\ CLI\ for\ messaging}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md82}{}\doxysubsection{\texorpdfstring{3. {\bfseries{Automatic Fallback}}}{3. {\bfseries{Automatic Fallback}}}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md82}
If library dependencies aren\textquotesingle{}t installed, automatically fallback to CLI\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{database:}
\DoxyCodeLine{\ \ implementation:\ library}
\DoxyCodeLine{\ \ auto\_fallback:\ true\ \ \#\ Falls\ back\ to\ CLI\ if\ ibm\_db\ not\ installed}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md83}{}\doxysubsection{\texorpdfstring{4. {\bfseries{Better Performance}}}{4. {\bfseries{Better Performance}}}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md83}
Library implementations provide\+:
\begin{DoxyItemize}
\item ✅ Connection pooling
\item ✅ Prepared statements
\item ✅ Proper parameterized queries (prevents SQL injection)
\item ✅ Native database features
\item ✅ Lower overhead (no subprocess calls)
\end{DoxyItemize}\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md84}{}\doxysubsection{\texorpdfstring{5. {\bfseries{Improved Security}}}{5. {\bfseries{Improved Security}}}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md84}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{\#\ CLI\ Adapter\ -\/\ Limited\ parameterization}}
\DoxyCodeLine{results\ =\ db\_manager.execute\_query(\textcolor{stringliteral}{"{}SELECT\ *\ FROM\ users\ WHERE\ id\ =\ 123"{}})}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Library\ Adapter\ -\/\ Full\ parameterization\ support}}
\DoxyCodeLine{results\ =\ db\_manager.execute\_query(\textcolor{stringliteral}{"{}SELECT\ *\ FROM\ users\ WHERE\ id\ =\ ?"{}},\ (user\_id,))}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md85}{}\doxysubsection{\texorpdfstring{6. {\bfseries{Easier Testing}}}{6. {\bfseries{Easier Testing}}}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md85}
Mock interfaces instead of subprocess calls\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{\#\ Easy\ to\ mock}}
\DoxyCodeLine{mock\_db\ =\ Mock(spec=IDatabaseManager)}
\DoxyCodeLine{mock\_db.execute\_query.return\_value\ =\ [\{\textcolor{stringliteral}{'id'}:\ 1,\ \textcolor{stringliteral}{'name'}:\ \textcolor{stringliteral}{'test'}\}]}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Use\ in\ tests}}
\DoxyCodeLine{component.db\_manager\ =\ mock\_db}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md86}{}\doxysection{\texorpdfstring{Configuration Guide}{Configuration Guide}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md86}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md87}{}\doxysubsection{\texorpdfstring{Database Configuration}{Database Configuration}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md87}

\begin{DoxyCode}{0}
\DoxyCodeLine{database:}
\DoxyCodeLine{\ \ \#\ Implementation\ type:\ 'cli'\ (default)\ or\ 'library'\ (requires\ ibm\_db)}
\DoxyCodeLine{\ \ implementation:\ cli}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Auto\ fallback\ to\ CLI\ if\ library\ is\ not\ available\ (default:\ true)}
\DoxyCodeLine{\ \ auto\_fallback:\ true}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Connection\ details}
\DoxyCodeLine{\ \ host:\ localhost}
\DoxyCodeLine{\ \ port:\ 50000}
\DoxyCodeLine{\ \ name:\ testdb}
\DoxyCodeLine{\ \ user:\ db2inst1}
\DoxyCodeLine{\ \ password:\ password}
\DoxyCodeLine{\ \ schema:\ myschema}
\DoxyCodeLine{\ \ timeout:\ 30}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md88}{}\doxysubsection{\texorpdfstring{Messaging Configuration}{Messaging Configuration}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md88}

\begin{DoxyCode}{0}
\DoxyCodeLine{messaging:}
\DoxyCodeLine{\ \ \#\ Implementation\ type:\ 'cli'\ (default)\ or\ 'library'\ (requires\ pymqi)}
\DoxyCodeLine{\ \ implementation:\ cli}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Auto\ fallback\ to\ CLI\ if\ library\ is\ not\ available\ (default:\ true)}
\DoxyCodeLine{\ \ auto\_fallback:\ true}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \#\ Connection\ details}
\DoxyCodeLine{\ \ host:\ localhost}
\DoxyCodeLine{\ \ port:\ 1414}
\DoxyCodeLine{\ \ queue\_manager:\ QM1}
\DoxyCodeLine{\ \ channel:\ SYSTEM.DEF.SVRCONN}
\DoxyCodeLine{\ \ user:\ mquser}
\DoxyCodeLine{\ \ password:\ mqpass}
\DoxyCodeLine{\ \ timeout:\ 30}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md89}{}\doxysection{\texorpdfstring{Migration Guide}{Migration Guide}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md89}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md90}{}\doxysubsection{\texorpdfstring{Step 1\+: Install Library Dependencies (Optional)}{Step 1\+: Install Library Dependencies (Optional)}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md90}
For DB2 library support\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{pip\ install\ ibm\_db}

\end{DoxyCode}


For MQ library support\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{pip\ install\ pymqi}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md91}{}\doxysubsection{\texorpdfstring{Step 2\+: Update Configuration}{Step 2\+: Update Configuration}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md91}
Modify your {\ttfamily config.\+yaml}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{database:}
\DoxyCodeLine{\ \ implementation:\ library}
\DoxyCodeLine{\ \ auto\_fallback:\ true\ \ \#\ Recommended\ for\ safety}
\DoxyCodeLine{\ \ \#\ ...\ rest\ of\ config}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md92}{}\doxysubsection{\texorpdfstring{Step 3\+: Test Your Application}{Step 3\+: Test Your Application}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md92}
Run your application and verify\+:
\begin{DoxyEnumerate}
\item Check logs for adapter selection messages
\item Verify functionality works as expected
\item Monitor performance improvements
\end{DoxyEnumerate}\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md93}{}\doxysubsection{\texorpdfstring{Step 4\+: Disable Auto-\/\+Fallback (Production)}{Step 4\+: Disable Auto-\/\+Fallback (Production)}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md93}
Once verified, disable auto-\/fallback for stricter validation\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{database:}
\DoxyCodeLine{\ \ implementation:\ library}
\DoxyCodeLine{\ \ auto\_fallback:\ false\ \ \#\ Fail\ fast\ if\ library\ not\ available}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md94}{}\doxysection{\texorpdfstring{Checking Available Implementations}{Checking Available Implementations}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md94}
Programmatically check which implementations are available\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{from}\ \mbox{\hyperlink{namespacecommonpython_1_1factories}{commonpython.factories}}\ \textcolor{keyword}{import}\ ManagerFactory}
\DoxyCodeLine{}
\DoxyCodeLine{available\ =\ ManagerFactory.get\_available\_implementations()}
\DoxyCodeLine{}
\DoxyCodeLine{print(\textcolor{stringliteral}{"{}Database\ implementations:"{}})}
\DoxyCodeLine{print(f\textcolor{stringliteral}{"{}\ \ CLI:\ \{available['database']['cli']\}"{}})}
\DoxyCodeLine{print(f\textcolor{stringliteral}{"{}\ \ Library:\ \{available['database']['library']\}"{}})}
\DoxyCodeLine{}
\DoxyCodeLine{print(\textcolor{stringliteral}{"{}Messaging\ implementations:"{}})}
\DoxyCodeLine{print(f\textcolor{stringliteral}{"{}\ \ CLI:\ \{available['messaging']['cli']\}"{}})}
\DoxyCodeLine{print(f\textcolor{stringliteral}{"{}\ \ Library:\ \{available['messaging']['library']\}"{}})}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md95}{}\doxysection{\texorpdfstring{Code Examples}{Code Examples}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md95}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md96}{}\doxysubsection{\texorpdfstring{Using in Components}{Using in Components}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md96}
Components automatically use the factory pattern -\/ no code changes needed\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{from}\ \mbox{\hyperlink{namespacecommonpython_1_1framework}{commonpython.framework}}\ \textcolor{keyword}{import}\ ComponentBase,\ run\_component}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class\ }MyComponent(ComponentBase):}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ config\_file=None):}
\DoxyCodeLine{\ \ \ \ \ \ \ \ super().\_\_init\_\_(\textcolor{stringliteral}{"{}MyComponent"{}},\ config\_file)}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{def\ }initialize(self)\ -\/>\ bool:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ self.log\_info(\textcolor{stringliteral}{"{}Component\ initialized"{}})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{def\ }run(self)\ -\/>\ bool:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Works\ with\ both\ CLI\ and\ library\ implementations!}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.connect\_database():}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ results\ =\ self.execute\_query(\textcolor{stringliteral}{"{}SELECT\ *\ FROM\ users\ WHERE\ id\ =\ ?"{}},\ (123,))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ self.log\_info(f\textcolor{stringliteral}{"{}Found\ \{len(results)\}\ users"{}})}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.connect\_messaging():}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ self.send\_message(\textcolor{stringliteral}{"{}MY.QUEUE"{}},\ \{\textcolor{stringliteral}{"{}data"{}}:\ \textcolor{stringliteral}{"{}message"{}}\})}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{def\ }cleanup(self)\ -\/>\ None:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ self.log\_info(\textcolor{stringliteral}{"{}Component\ cleanup\ completed"{}})}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{'\_\_main\_\_'}:}
\DoxyCodeLine{\ \ \ \ sys.exit(0\ \textcolor{keywordflow}{if}\ run\_component(MyComponent,\ \textcolor{stringliteral}{"{}MyComponent"{}})\ \textcolor{keywordflow}{else}\ 1)}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md97}{}\doxysubsection{\texorpdfstring{Direct Usage}{Direct Usage}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md97}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{from}\ \mbox{\hyperlink{namespacecommonpython_1_1factories}{commonpython.factories}}\ \textcolor{keyword}{import}\ ManagerFactory}
\DoxyCodeLine{\textcolor{keyword}{from}\ \mbox{\hyperlink{namespacecommonpython_1_1config}{commonpython.config}}\ \textcolor{keyword}{import}\ ConfigManager}
\DoxyCodeLine{\textcolor{keyword}{from}\ \mbox{\hyperlink{namespacecommonpython_1_1logging}{commonpython.logging}}\ \textcolor{keyword}{import}\ LoggerManager}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Load\ configuration}}
\DoxyCodeLine{config\_manager\ =\ ConfigManager(\textcolor{stringliteral}{'config.yaml'})}
\DoxyCodeLine{logger\_manager\ =\ LoggerManager(\textcolor{stringliteral}{'myapp'},\ config\_manager.get\_logging\_config())}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Create\ managers\ using\ factory}}
\DoxyCodeLine{db\_config\ =\ config\_manager.get\_database\_config()}
\DoxyCodeLine{db\_manager\ =\ ManagerFactory.create\_database\_manager(db\_config,\ logger\_manager)}
\DoxyCodeLine{}
\DoxyCodeLine{mq\_config\ =\ config\_manager.get\_messaging\_config()}
\DoxyCodeLine{mq\_manager\ =\ ManagerFactory.create\_messaging\_manager(mq\_config,\ logger\_manager)}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Use\ managers\ -\/\ interface\ is\ identical\ regardless\ of\ implementation!}}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ db\_manager.connect():}
\DoxyCodeLine{\ \ \ \ results\ =\ db\_manager.execute\_query(\textcolor{stringliteral}{"{}SELECT\ *\ FROM\ users"{}})}
\DoxyCodeLine{\ \ \ \ db\_manager.disconnect()}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ mq\_manager.connect():}
\DoxyCodeLine{\ \ \ \ mq\_manager.put\_message(\textcolor{stringliteral}{"{}TEST.QUEUE"{}},\ \{\textcolor{stringliteral}{"{}message"{}}:\ \textcolor{stringliteral}{"{}Hello"{}}\})}
\DoxyCodeLine{\ \ \ \ mq\_manager.disconnect()}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md98}{}\doxysection{\texorpdfstring{Performance Comparison}{Performance Comparison}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md98}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Operation  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ CLI Implementation  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Library Implementation  }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Operation  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ CLI Implementation  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Library Implementation  }\\\cline{1-3}
\endhead
Connect  &\texorpdfstring{$\sim$}{\string~}500ms  &\texorpdfstring{$\sim$}{\string~}100ms  \\\cline{1-3}
Simple Query  &\texorpdfstring{$\sim$}{\string~}200ms  &\texorpdfstring{$\sim$}{\string~}10ms  \\\cline{1-3}
Parameterized Query  &Limited support  &Full support (safe)  \\\cline{1-3}
Transaction  &Manual via CLI  &Native support  \\\cline{1-3}
Connection Pooling  &❌ Not supported  &✅ Supported  \\\cline{1-3}
Prepared Statements  &❌ Not supported  &✅ Supported  \\\cline{1-3}
\end{longtabu}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md99}{}\doxysection{\texorpdfstring{Troubleshooting}{Troubleshooting}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md99}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md100}{}\doxysubsection{\texorpdfstring{Library Not Loading}{Library Not Loading}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md100}
{\bfseries{Problem}}\+: Configuration specifies {\ttfamily library} but CLI is being used.

{\bfseries{Solution}}\+: Check that dependencies are installed\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{pip\ install\ ibm\_db\ pymqi}

\end{DoxyCode}


Check logs for fallback warnings\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{WARNING\ -\/\ DB2\ library\ adapter\ not\ available\ (ibm\_db\ not\ installed),\ falling\ back\ to\ CLI\ adapter}

\end{DoxyCode}
\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md101}{}\doxysubsection{\texorpdfstring{Import Errors}{Import Errors}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md101}
{\bfseries{Problem}}\+: {\ttfamily Import\+Error} when using library implementation.

{\bfseries{Solution}}\+:
\begin{DoxyEnumerate}
\item Ensure dependencies are installed
\item Enable auto\+\_\+fallback in config\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{database:}
\DoxyCodeLine{\ \ implementation:\ library}
\DoxyCodeLine{\ \ auto\_fallback:\ true}

\end{DoxyCode}

\end{DoxyEnumerate}\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md102}{}\doxysubsection{\texorpdfstring{Connection Failures}{Connection Failures}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md102}
{\bfseries{Problem}}\+: Connections fail with library implementation but work with CLI.

{\bfseries{Solution}}\+:
\begin{DoxyEnumerate}
\item Verify connection parameters are identical
\item Check library-\/specific requirements (e.\+g., SSL certificates)
\item Review library documentation for additional configuration
\end{DoxyEnumerate}\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md103}{}\doxysection{\texorpdfstring{Best Practices}{Best Practices}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md103}

\begin{DoxyEnumerate}
\item {\bfseries{Use Auto-\/\+Fallback in Development}}\+: Enable {\ttfamily auto\+\_\+fallback\+: true} during development
\item {\bfseries{Disable in Production}}\+: Set {\ttfamily auto\+\_\+fallback\+: false} in production for explicit control
\item {\bfseries{Test Both Implementations}}\+: Verify functionality with both CLI and library adapters
\item {\bfseries{Monitor Logs}}\+: Check logs for adapter selection and warnings
\item {\bfseries{Gradual Rollout}}\+: Migrate one service at a time (database first, then messaging)
\item {\bfseries{Use Parameterized Queries}}\+: Always use parameters with library adapters for security
\end{DoxyEnumerate}\hypertarget{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md104}{}\doxysection{\texorpdfstring{Future Enhancements}{Future Enhancements}}\label{md_docs_2_a_d_a_p_t_e_r___a_r_c_h_i_t_e_c_t_u_r_e_autotoc_md104}
The adapter architecture supports easy addition of new implementations\+:


\begin{DoxyItemize}
\item SQLAlchemy adapter for database operations
\item Different messaging brokers (Rabbit\+MQ, Kafka)
\item Cloud-\/native services (AWS RDS, Azure Service Bus)
\item Mock adapters for testing
\end{DoxyItemize}

Simply implement the interface and register with the factory! 